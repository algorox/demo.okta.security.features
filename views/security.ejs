<%- include('partials/header') -%>

  <h1 class="text-4xl mb-4">Welcome to the demo.okta Security Demo Centre</h1>
  
  <p class="py-3">
    This is the content of <code class="bg-gray-200">req.user</code>.<br>
    <strong>Note:</strong> <code class="bg-gray-200">_raw</code> and <code class="bg-gray-200">_json</code> properties have been omitted.
  </p>

  <pre class="block bg-gray-300 p-4 text-sm overflow-scroll"><%= userProfile %></pre>

  <div>
      <input type="button" id="bruteForce" value="Brute Force">
      <br>
      <pre id="bruteForceResults" hidden="true"></pre>
  </div>

<%- include('partials/footer') -%>

<script>

  $(function () {

    $('#bruteForce').on('click', function (e) {

      e.preventDefault();
      $.ajax({
        url: "/bruteforce/consistentIP",
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        success: function (data) {

          $('#bruteForceResults').text(JSON.stringify(data, null, 2));
          $('#bruteForceResults').show();

        },
        error: function (data) {
          $('#bruteForceResults').text(JSON.stringify(data, null, 2));
          $('#bruteForceResults').show();
        }
      });
    });

  });

</script>