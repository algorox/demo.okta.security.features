<%- include('partials/header') -%>

  <h1 class="text-4xl mb-4">demo.okta Security Demo Centre</h1>
  <div class="col-sm-4">
  <pre style="white-space: pre-wrap; word-break: keep-all;"id="Results">The demo.okta Security Centre shows you the value of Okta's Security Features. Let's get started with Brute Force...</pre>
  </div>

  <div class="col-sm-4">
  <div>
    <h2>1. Unblock</h2>
    <p>Unblock our demo user: <b>Do this first!</b></p>
    ðŸ‘‰  <input type="button" id="unblockUser" value="Unblock Demo User">
    <br>
  </div>
  <hr>
  <div>
    <h2>2. Consistent IPs</h2>
    <p>Consistent IPs allow us to block attempts to breach the account...</p>
    <p>Brute Force will block our demo user after 3 consecutive unsuccessful attempts from the same IP</p>
    <p>The threshold is configurable in the CIC Tenant</p>
    ðŸ‘‰ <input type="button" id="bruteForceFixedIP" value="Brute Force with Fixed IP">
      <br>
  </div>
  <hr>
  <div>
    <h2>3. Changing IPs</h2>
    <p>Different IPs allow us to continue trying to breach the account, even after the account has been blocked</p>
    <p>This is why bot attacks depend on different IPs</p>
    ðŸ‘‰ <input type="button" id="bruteForceChangingIP" value="Brute Force with Changing IP">
    <br>
</div>
<hr>

</div>




<div class="col-sm-4">
  <div>
    <h2>4. Bypass</h2>
    <p>With different IPs but the correct password, we can bypass Brute Force and get access to the account</p>
    ðŸ‘‰ <input type="button" id="bruteForceBypass" value="Brute Force Bypass">
    <br>
    <br>
    <p>We need something else... cue <b>Bot Detection</b></p>
  </div>
  <hr>
  <div>
    <h2>5. Captcha</h2>
    <p>We can slow down bot attacks with captcha</p>
    <p>Bots have real difficulty trying to get past the challenge</p>
    ðŸ‘‰ <input type="button" id="captcha" value="Captcha">
    <br>
  </div>
  <hr>

  <div>
    <h2>6. MFA</h2>
    <p>Assuming bots can bypass Captcha - MFA still stands in their way</p>
    ðŸ‘‰  <input type="button" id="MFA" value="MFA">
    <br>
    <br>
    To truly mitigate against Bots attacks, we recommend <b>Bot Detection </b>and <b>MFA</b>
  </div>
  <hr>

  </div>



<%- include('partials/footer') -%>

<script>

  $(function () {

    $('#bruteForceFixedIP').on('click', function (e) {

      e.preventDefault();
      $.ajax({
        url: "/bruteforce/consistentIP",
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        success: function (data) {

          $('#Results').text(JSON.stringify(data.responseJSON, null, 2));

        },
        error: function (data) {
          $('#Results').text(JSON.stringify(data.responseJSON, null, 2));
        }
      });
    });

  });

  $(function () {

$('#bruteForceChangingIP').on('click', function (e) {

  e.preventDefault();
  $.ajax({
    url: "/bruteforce/changingIP",
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    success: function (data) {

      $('#Results').text(JSON.stringify(data.responseJSON, null, 2));

    },
    error: function (data) {
      $('#Results').text(JSON.stringify(data.responseJSON, null, 2));
    }
  });
});

});

$(function () {

$('#bruteForceBypass').on('click', function (e) {

  e.preventDefault();
  $.ajax({
    url: "/bruteforce/bypass",
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    success: function (data) {

      $('#Results').text(JSON.stringify(data, null, 2));

    },
    error: function (data) {
      $('#Results').text(JSON.stringify(data.responseJSON, null, 2));
    }
  });
});

});

$(function () {

$('#unblockUser').on('click', function (e) {

  e.preventDefault();
  $.ajax({
    url: "/user_admin/unblock",
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    success: function (data) {

      $('#Results').text(JSON.stringify(data, null, 2));

    },
    error: function (data) {
      $('#Results').text(JSON.stringify(data.responseJSON, null, 2));
    }
  });
});

});

$(function () {

$('#captcha').on('click', function (e) {

  var redirectWindow = window.open('https://demo-platform-secops.us.auth0.com/v2/logout?returnTo=http://localhost:3000/redirect', '_blank');
    redirectWindow.location;
});

});

$(function () {

$('#MFA').on('click', function (e) {

  var redirectWindow = window.open('https://demo-platform-secops.us.auth0.com/v2/logout?returnTo=http://localhost:3000/redirect_mfa', '_blank');
    redirectWindow.location;
}); 

});

</script>